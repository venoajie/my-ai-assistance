# pyproject.toml

[project]
name = "my-ai-assistant"
version = "1.2.1"
description = "AI Assistant for Software Development"
readme = "README.md"
requires-python = ">=3.9"
dependencies = [
      "aiohttp",
      "requests",
      "pyyaml",
      "pydantic>=2.0",
      ]

[build-system]
requires = ["setuptools>=65.0", "wheel"]
build-backend = "setuptools.build_meta"

[project.scripts]
ai = "ai_assistant.cli:main"
ai-execute = "ai_assistant.executor:main"

[project.entry-points."ai_assistant.context_plugins"]
"domains-programming" = "ai_assistant.plugins.domains.programming.context:ProgrammingContextPlugin"
"domains-finance" = "ai_assistant.plugins.domains.finance.context:FinanceContextPlugin"
"domains-writing" = "ai_assistant.plugins.domains.writing.context:WritingContextPlugin"

[project.optional-dependencies]
test = [
    "unittest-xml-reporting",
    "pytest",
    "jsonschema",
]

[tool.setuptools]
package-dir = {"" = "src"}

[tool.setuptools.packages.find]
where = ["src"]
include = ["ai_assistant*"]

[tool.setuptools.package-data]
# Data for the main ai_assistant package
ai_assistant = [
    "default_config.yml",
    "personas/**/*.md",
    "personas/**/*.py",
    "internal_data/*",
]
# --- THIS IS THE FIX ---
# Add a new, specific entry for the test data sub-package.
# The key is the package name, and the paths are relative to that package.
"ai_assistant.tests" = [
    "fixtures/*.json",
    "schemas/*.json",
]