
# src\ai_assistant\internal_data\governance.yml
# This file is the single source of truth for governance rules
# that need to be shared between runtime code and documentation.

prompting_best_practices:
  # This list is read by cli.py to power the sanity checker and
  # by scripts/generate_docs.py to keep the prompting guide in sync.
  risky_modification_keywords:
    - "refactor"
    - "fix"
    - "modify"
    - "commit"
    - "change"
    - "add"
    - "create"
    - "write"
    - "remove"
    - "delete"
    - "update"
    - "apply"
    - "generate"
    - "implement"


adversarial_critique:
  # This list is read by the result presenter to highlight words
  # in the critic's output, drawing user attention to key risks.
  critical_keywords:
    - "fail"
    - "fails"
    - "failure"
    - "overwrite"
    - "destroy"
    - "destroying"
    - "delete"
    - "deleting"
    - "risk"
    - "risks"
    - "security"
    - "vulnerability"
    - "danger"
    - "dangerous"
    - "corrupt"
    - "corrupted"
    - "backfire"
    - "warning"
    - "sensitive"

# Maps user intent keywords to expected plan structures.
plan_compliance_rules:
  # This rule MUST come BEFORE the general "Code Modification" rule.
  - intent: "Create Service from Template"
    trigger_keywords:
      - "from the 'receiver' service as a template"
      - "use the attached files... as a template"
      - "create... from template"
      - "new service from template"
    expected_signature:
      max_steps: 1
      allowed_tools:
        - "create_service_from_template"

  - intent: "Code Modification Workflow"
    # Keywords that trigger this rule.
    trigger_keywords:
      - "refactor"
      - "modify"
      - "update"
      - "remove"
      - "delete"
      - "create file"
      - "implement"
      - "add file"
    # The machine-readable "Expected Plan Signature".
    expected_signature:
      max_steps: 1
      allowed_tools:
        - "execute_refactoring_workflow"
    
  - intent: "Simple File Read"
    trigger_keywords:
      - "read file"
      - "get content"
      - "show me the file"
    expected_signature:
      max_steps: 1
      allowed_tools:
        - "read_file"